<!DOCTYPE html>
<head>
<link rel="icon" href="/favicon.png" sizes="any" type="image/png">
</head>
<script src="https://unpkg.com/@isomorphic-git/lightning-fs@4.6.0"></script>
<script src="https://unpkg.com/isomorphic-git@1.24.3"></script>
<script type="module">
import http from 'https://unpkg.com/isomorphic-git@beta/http/web/index.js'

console.log("start")

const Fs = new LightningFS('fs')
const DIR = '/'

await git.clone({
	fs: Fs,
	http,
	dir: DIR,
	corsProxy: 'https://cors.isomorphic-git.org',
	url: 'https://github.com/kmamal/kmamal.github.io',
	ref: 'master',
	singleBranch: true,
	depth: 1
})

console.log(await Fs.promises.readdir(DIR))

</script>
